<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Actividad Interactiva Mecatr√≥nica</title>

  <style>
    :root{
      --bg:#0f1724;
      --card:#0b1220;
      --accent:#60a5fa;
      --muted:#94a3b8;
      --success:#34d399;
      --danger:#fb7185;
      --glass: rgba(255,255,255,0.03);
      font-family: "Segoe UI", Roboto, Arial, sans-serif;
    }

    *{box-sizing:border-box}
    body{
      margin:0;
      min-height:100vh;
      background: linear-gradient(180deg,#071129 0%, #0f1724 100%);
      color:#e6eef8;
      display:flex;
      align-items:center;
      justify-content:center;
      padding:24px;
    }

    .wrap{
      width:100%;
      max-width:1000px;
      display:grid;
      grid-template-columns: 1fr 380px;
      gap:20px;
    }

    header{
      grid-column: 1 / -1;
      display:flex;
      align-items:center;
      gap:16px;
    }

    header h1{
      margin:0;
      font-size:22px;
      letter-spacing:0.6px;
    }

    header p{ margin:0; color:var(--muted); font-size:13px }
  
    .neon{
      border:2px solid rgba(96,165,250,0.7);
      box-shadow:
        0 0 6px rgba(96,165,250,0.8),
        0 0 12px rgba(96,165,250,0.5),
        inset 0 0 10px rgba(96,165,250,0.4);
      animation: neonPulse 2.2s infinite ease-in-out;
    }

    @keyframes neonPulse{
      0%{
        box-shadow:
          0 0 6px rgba(96,165,250,0.9),
          0 0 14px rgba(96,165,250,0.6),
          inset 0 0 10px rgba(96,165,250,0.4);
      }
      50%{
        box-shadow:
          0 0 12px rgba(96,165,250,1),
          0 0 22px rgba(96,165,250,0.9),
          inset 0 0 14px rgba(96,165,250,0.6);
      }
      100%{
        box-shadow:
          0 0 6px rgba(96,165,250,0.9),
          0 0 14px rgba(96,165,250,0.6),
          inset 0 0 10px rgba(96,165,250,0.4);
      }
    }


    .panel{
      background:rgba(255,255,255,0.04);
      
      border:1px solid rgba(255,255,255,0.08);
      border-radius:12px;
      padding:20px;
      box-shadow: 0 6px 20px rgba(2,6,23,0.7);
      transition:transform .25s ease, box-shadow .25s ease, background .25s ease;
    }

    .panel:hover{
      transform:translateY(-5px);
      box-shadow:0 12px 30px rgba(0,0,0,0.45);
      background:rgba(255,255,255,0.07);
    }


    .quiz .question{
      font-weight:600;
      margin-bottom:8px;
      font-size:18px;
    }

    .options{
      display:flex;
      flex-direction:column;
      gap:10px;
      margin-bottom:14px;
    }

    .option{
      background:rgba(255,255,255,0.05);
      padding:10px 12px;
      border-radius:8px;
      cursor:pointer;
      border:1px solid rgba(255,255,255,0.02);
      transition: transform .1s ease, background .12s ease;
      user-select:none;
    }

    .option:hover{
      transform: translateY(-3px);
      background:rgba(255,255,255,0.1);
    }

    .option.selected{
      outline: 2px solid rgba(96,165,250,0.5);
      background: rgba(96,165,250,0.15);
    }

    button{
      background:var(--accent);
      color:#06243a;
      border:none;
      padding:10px 14px;
      border-radius:10px;
      cursor:pointer;
      font-weight:700;
      width:100%;
      margin-top:10px;
    }

    .right{
      display:flex;
      flex-direction:column;
      gap:20px;
    }

    .game-panel{
      padding:20px;
      background:rgba(255,255,255,0.04);
      border:1px solid rgba(255,255,255,0.08);
      border-radius:12px;
      box-shadow:0 6px 20px rgba(0,0,0,0.35);
      transition:transform 0.25s ease, box-shadow 0.25s ease, background 0.25s ease;
    }

    .game-panel:hover{
      transform:translateY(-6px);
      box-shadow:0 12px 26px rgba(0,0,0,0.45);
      background:rgba(255,255,255,0.07);
    }

    .game-panel h3{
      text-align:center;
      font-size:20px;
      margin-bottom:16px;
      font-weight:700;
    }

    .choices{
      display:flex;
      justify-content:center;
      gap:20px;
      margin-bottom:16px;
    }

    .choice{
      padding:14px 22px;
      border-radius:12px;
      background:rgba(255,255,255,0.05);
      border:1px solid rgba(255,255,255,0.08);
      cursor:pointer;
      transition:transform 0.25s ease, background 0.25s ease, box-shadow 0.25s ease;
      font-weight:700;
      font-size:16px;
    }

    .choice:hover{
      background:rgba(255,255,255,0.12);
      transform:translateY(-6px);
      box-shadow:0 10px 24px rgba(0,0,0,0.35);
    }

    .choice:active{
      transform:scale(0.94);
    }

    .rps-result{
      text-align:center;
      padding:12px;
      margin-top:10px;
      border-radius:10px;
      background:rgba(255,255,255,0.04);
      border:1px solid rgba(255,255,255,0.06);
      font-weight:600;
      transition:all 0.3s ease;
    }

    .rps-result.show{
      transform:scale(1.08);
      box-shadow:0 6px 20px rgba(0,0,0,0.4);
    }

    .win{ color:#34d399; text-shadow:0 0 6px rgba(52,211,153,0.7); }
    .lose{ color:#fb7185; text-shadow:0 0 6px rgba(251,113,133,0.6); }
    .draw{ color:#60a5fa; text-shadow:0 0 6px rgba(96,165,250,0.6); }


    .modal{
      position:fixed;
      top:0; left:0;
      width:100%; height:100%;
      background:rgba(0,0,0,0.7);
      display:none;
      justify-content:center;
      align-items:center;
    }

    .modal-content{
      background:rgba(255,255,255,0.05);
      padding:30px;
      border-radius:12px;
      border:1px solid rgba(255,255,255,0.1);
      width:350px;
      text-align:center;
      box-shadow:0 10px 40px rgba(0,0,0,0.5);
      animation:pop .4s ease;
    }

    @keyframes pop{
      0%{ transform:scale(0.5); }
      100%{ transform:scale(1); }
    }

    .stars{
      font-size:28px;
      margin:10px 0;
    }

    @media(max-width:900px){
      .wrap{ grid-template-columns: 1fr; }
    }

  </style>
</head>

<body>

<div class="wrap">

  <header>
    <h1>Actividad Interactiva ‚Ä¢ Mecatr√≥nica</h1>
    <p>Cuestionario + Juego</p>
  </header>

  <div class="panel quiz neon">
    <h2>Cuestionario</h2>
    <div id="quizContainer"></div>
    <button id="nextBtn">Siguiente</button>
    <button onclick="finalizar()">Finalizar</button>
  </div>

  <div class="right">
    <div class="panel game-panel neon">
      <h3>Juego: Piedra, Papel o Tijeras</h3>
      <div class="choices">
        <div class="choice" onclick="play('piedra')">ü™® Piedra</div>
        <div class="choice" onclick="play('papel')">üìÑ Papel</div>
        <div class="choice" onclick="play('tijeras')">‚úÇÔ∏è Tijeras</div>
      </div>
      <div id="rpsResult" class="rps-result">Elige una opci√≥n para jugar</div>
    </div>
    <button onclick="location.href='tabla.html'">Tabla</button>
  </div>
</div>

<audio id="winSound" src="https://cdn.pixabay.com/audio/2022/03/15/audio_4dd3e1.wav"></audio>
<audio id="loseSound" src="https://cdn.pixabay.com/audio/2021/09/17/audio_1d5d3d.wav"></audio>
<audio id="drawSound" src="https://cdn.pixabay.com/audio/2022/03/28/audio_f28439.mp3"></audio>

<div class="modal" id="modal">
  <div class="modal-content">
    <h2>Resultados</h2>
    <div id="stars" class="stars"></div>
    <p id="mensajeFinal"></p>
    <button onclick="cerrarModal()">Cerrar</button>
  </div>
</div>

<script>

const preguntas = [
  { p: "¬øQu√© es la mecatr√≥nica?", o: ["La mezcla de mec√°nica, electr√≥nica y programaci√≥n", "Solo rob√≥tica", "Un tipo de energ√≠a"], a: 0 },
  { p: "¬øQu√© sensor mide distancia?", o: ["Sensor ultras√≥nico", "LDR", "Sensor de temperatura"], a: 0 },
  { p: "¬øQu√© microcontrolador es muy usado en mecatr√≥nica?", o: ["Arduino", "Blu-ray", "Televisor"], a: 0 },
  { p: "¬øQu√© lenguaje se usa para programar Arduino?", o: ["C/C++", "Python puro", "SQL"], a: 0 },
  { p: "¬øQu√© parte controla los movimientos en un robot?", o: ["Actuadores", "Pintura", "Pegamento"], a: 0 },
  { p: "¬øQu√© tipo de motor permite precisi√≥n de pasos?", o: ["Motor a pasos", "Ventilador", "Motor de auto"], a: 0 }
];

let seleccionadas = Array(preguntas.length).fill(null);
let currentQuestion = 0;

function mostrarPregunta(index){
  const cont = document.getElementById("quizContainer");
  cont.innerHTML = "";
  const q = preguntas[index];
  const div = document.createElement("div");
  div.className = "question-block";
  div.innerHTML += `<p class="question">${q.p}</p>`;
  const opciones = document.createElement("div");
  opciones.className = "options";
  q.o.forEach((op, j)=>{
    const opt = document.createElement("div");
    opt.className = "option";
    opt.textContent = op;
    opt.onclick = ()=>{
      seleccionadas[index] = j;
      Array.from(opciones.children).forEach(x=>x.classList.remove("selected"));
      opt.classList.add("selected");
    };
    opciones.appendChild(opt);
  });
  div.appendChild(opciones);
  cont.appendChild(div);
}

document.getElementById("nextBtn").addEventListener("click", ()=>{
  if(currentQuestion < preguntas.length - 1){
    currentQuestion++;
    mostrarPregunta(currentQuestion);
  }
});

mostrarPregunta(currentQuestion);

function reiniciarCuestionario(){
  seleccionadas = Array(preguntas.length).fill(null);
  currentQuestion = 0;
  mostrarPregunta(currentQuestion);
}

function finalizar(){
  let puntos = 0;
  seleccionadas.forEach((sel, i)=>{
    if(sel === preguntas[i].a){
      puntos++;
    }
  });
  let estrellas = "";
  if(puntos <= 2) estrellas = "‚≠ê‚òÜ‚òÜ‚òÜ‚òÜ";
  else if(puntos <= 4) estrellas = "‚≠ê‚≠ê‚òÜ‚òÜ‚òÜ";
  else estrellas = "‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê";

  guardarResultado(puntos, estrellas);

  document.getElementById("stars").textContent = estrellas;
  document.getElementById("mensajeFinal").textContent =
    `Tu puntaje final es ${puntos}/${preguntas.length}`;
  document.getElementById("modal").style.display = "flex";

  reiniciarCuestionario();
}

function cerrarModal(){
  document.getElementById("modal").style.display = "none";
}

function play(userChoice){
  const opciones = ["piedra","papel","tijeras"];
  const pcChoice = opciones[Math.floor(Math.random()*3)];
  const box = document.getElementById("rpsResult");
  let result = "";
  if(userChoice === pcChoice){
    result = "¬°Empate! Ambos eligieron " + userChoice;
    box.className = "rps-result draw show";
    drawSound.play();
  }
  else if(
    (userChoice === "piedra" && pcChoice === "tijeras") ||
    (userChoice === "papel" && pcChoice === "piedra") ||
    (userChoice === "tijeras" && pcChoice === "papel")
  ){
    result = "¬°Ganaste! T√∫: " + userChoice + " | PC: " + pcChoice;
    box.className = "rps-result win show";
    winSound.play();
  }
  else{
    result = "Perdiste... T√∫: " + userChoice + " | PC: " + pcChoice;
    box.className = "rps-result lose show";
    loseSound.play();
  }
  box.textContent = result;
  setTimeout(()=>{ box.classList.remove("show"); }, 800);
}

function guardarResultado(puntos, estrellas){
  const resultados = JSON.parse(localStorage.getItem("resultadosCuestionario")) || [];
  const fecha = new Date().toLocaleString();
  resultados.push({ fecha, puntos, estrellas });
  localStorage.setItem("resultadosCuestionario", JSON.stringify(resultados));
}

</script>
</body>
</html>
